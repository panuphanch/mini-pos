<!DOCTYPE html>
<html>
<head>
    <title>Thermal Receipt Printer</title>
    <script type="text/javascript" src="/eel.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/order.js" type="text/javascript"></script>
    <script src="js/product.js" type="text/javascript"></script>
</head>
<body>
    <div class="container pt-5">
        <ul class="nav nav-pills nav-fill" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
            <button class="nav-link active" id="receipt-tab" data-bs-toggle="tab" data-bs-target="#receipt" type="button" role="tab">Receipt</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="products-tab" data-bs-toggle="tab" data-bs-target="#products" type="button" role="tab">Products</button>
            </li>
        </ul>
    
        <div class="tab-content pt-5" id="myTabContent">
            <div class="tab-pane fade show active" id="receipt" role="tabpanel"></div>
            <div class="tab-pane fade" id="products" role="tabpanel"></div>
        </div>
    </div>

    <script>
        loadReceiptTab();

        const receiptTab = document.getElementById('receipt-tab'); 
        const productsTab = document.getElementById('products-tab');

        receiptTab.addEventListener('click', loadReceiptTab);
        productsTab.addEventListener('click', loadProductsTab);

        async function loadReceiptTab() {
            const receiptPane = document.getElementById('receipt');
            // const contentContainer = document.getElementById('tabContentContainer');
            if (receiptPane.innerHTML === '') { // Only load content if not already loaded
                console.log("Load order content");
                const response = await fetch('order_management.html');
                const htmlContent = await response.text();
                receiptPane.innerHTML = htmlContent;
                
                loadProductData();
                displayOrders();
            }
        }

        async function loadProductsTab() {
            const productPane = document.getElementById('products');
            // const contentContainer = document.getElementById('tabContentContainer');
            if (productPane.innerHTML === '') { // Only load content if not already loaded
                console.log("Load product content");
                const response = await fetch('product_management.html');
                const htmlContent = await response.text();
                productPane.innerHTML = htmlContent;
                
                loadProducts();
            }
        }
    </script>
</body>
</html>
